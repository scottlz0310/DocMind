{
  "start_time": "2025-08-23T11:12:54.783911",
  "validation_type": "error_handling_recovery",
  "config": {
    "performance_monitoring": true,
    "memory_monitoring": true,
    "error_injection": true,
    "max_execution_time": 600.0,
    "max_memory_usage": 2048.0
  },
  "results": {
    "test_results": [
      {
        "test_name": "test_automatic_recovery_mechanisms",
        "success": false,
        "execution_time": 0.019843101501464844,
        "memory_usage": 203.8046875,
        "error_message": "file is not a database",
        "details": {
          "traceback": "Traceback (most recent call last):\n  File \"/home/hiro/Projects/DocMind/tests/validation_framework/base_validator.py\", line 152, in _run_single_test\n    method()\n    ~~~~~~^^\n  File \"/home/hiro/Projects/DocMind/tests/validation_framework/error_handling_validator.py\", line 363, in test_automatic_recovery_mechanisms\n    self._test_database_recovery()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/hiro/Projects/DocMind/tests/validation_framework/error_handling_validator.py\", line 465, in _test_database_recovery\n    conn.execute(\"\"\"\n    ~~~~~~~~~~~~^^^^\n        CREATE TABLE IF NOT EXISTS test_table (\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        )\n        ^\n    \"\"\")\n    ^^^^\nsqlite3.DatabaseError: file is not a database\n"
        }
      },
      {
        "test_name": "test_critical_function_continuity",
        "success": true,
        "execution_time": 0.011870384216308594,
        "memory_usage": 206.0078125,
        "error_message": null,
        "details": {}
      },
      {
        "test_name": "test_error_injection_scenarios",
        "success": true,
        "execution_time": 0.011341571807861328,
        "memory_usage": 207.5703125,
        "error_message": null,
        "details": {}
      },
      {
        "test_name": "test_error_message_display",
        "success": true,
        "execution_time": 0.006679534912109375,
        "memory_usage": 207.57421875,
        "error_message": null,
        "details": {}
      },
      {
        "test_name": "test_exception_catching_and_logging",
        "success": true,
        "execution_time": 0.007862329483032227,
        "memory_usage": 207.578125,
        "error_message": null,
        "details": {}
      },
      {
        "test_name": "test_graceful_degradation",
        "success": true,
        "execution_time": 0.012372732162475586,
        "memory_usage": 207.578125,
        "error_message": null,
        "details": {}
      }
    ],
    "detailed_summary": {
      "exception_handling": {
        "total_tests": 5,
        "successful_handling": 0,
        "results": [
          {
            "test_name": "exception_handling_DocumentProcessingError",
            "exception_type": "DocumentProcessingError",
            "context": "ドキュメント処理テスト",
            "handled_successfully": false,
            "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
          },
          {
            "test_name": "exception_handling_IndexingError",
            "exception_type": "IndexingError",
            "context": "インデックス作成テスト",
            "handled_successfully": false,
            "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
          },
          {
            "test_name": "exception_handling_SearchError",
            "exception_type": "SearchError",
            "context": "検索実行テスト",
            "handled_successfully": false,
            "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
          },
          {
            "test_name": "exception_handling_DatabaseError",
            "exception_type": "DatabaseError",
            "context": "データベース操作テスト",
            "handled_successfully": false,
            "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
          },
          {
            "test_name": "exception_handling_UnexpectedException",
            "exception_type": "RuntimeError",
            "context": "予期しない例外テスト",
            "handled_successfully": false,
            "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
          }
        ]
      },
      "recovery_mechanisms": {
        "total_tests": 1,
        "successful_recovery": 1,
        "results": [
          {
            "test_type": "filesystem_recovery",
            "scenarios": [
              "directory_creation",
              "permission_recovery"
            ],
            "success": true
          }
        ]
      },
      "graceful_degradation": {
        "total_tests": 3,
        "successful_degradation": 3,
        "results": [
          {
            "component": "search_manager",
            "error_type": "SearchError",
            "disabled_capabilities": [
              "semantic_search"
            ],
            "remaining_capabilities": [
              "full_text_search"
            ],
            "degradation_successful": true
          },
          {
            "component": "embedding_manager",
            "error_type": "EmbeddingError",
            "disabled_capabilities": [
              "embedding_generation"
            ],
            "remaining_capabilities": [],
            "degradation_successful": true
          },
          {
            "component": "document_processor",
            "error_type": "DocumentProcessingError",
            "disabled_capabilities": [
              "pdf_processing"
            ],
            "remaining_capabilities": [
              "text_processing"
            ],
            "degradation_successful": true
          }
        ]
      },
      "system_health": {
        "total_components": 6,
        "healthy": 2,
        "degraded": 4,
        "failed": 0,
        "overall_health": "degraded",
        "components": {
          "search_manager": {
            "status": "degraded",
            "error_message": "セマンティック検索モデルの読み込み失敗",
            "fallback_active": false,
            "capabilities": {
              "full_text_search": true,
              "semantic_search": false
            }
          },
          "index_manager": {
            "status": "healthy",
            "error_message": null,
            "fallback_active": false,
            "capabilities": {
              "indexing": true,
              "search": true
            }
          },
          "embedding_manager": {
            "status": "degraded",
            "error_message": "埋め込みモデルのメモリ不足",
            "fallback_active": false,
            "capabilities": {
              "embedding_generation": false
            }
          },
          "document_processor": {
            "status": "degraded",
            "error_message": "PDFライブラリの初期化失敗",
            "fallback_active": false,
            "capabilities": {
              "pdf_processing": false,
              "text_processing": true
            }
          },
          "database": {
            "status": "degraded",
            "error_message": "テスト用部分失敗: document_storage",
            "fallback_active": false,
            "capabilities": {
              "metadata_storage": true,
              "search_history": true
            }
          },
          "file_watcher": {
            "status": "healthy",
            "error_message": null,
            "fallback_active": false,
            "capabilities": {
              "file_monitoring": true
            }
          }
        }
      },
      "error_injection_stats": {
        "total_injections": 4,
        "successful_injections": 3,
        "success_rate": 0.75,
        "error_types": {
          "file_not_found": 1,
          "permission_denied": 1,
          "corrupted_file": 1,
          "database_connection_error": 1
        },
        "active_injections": 0
      }
    }
  },
  "summary": {
    "total_tests": 6,
    "successful_tests": 5,
    "failed_tests": 1,
    "success_rate": 0.8333333333333334,
    "average_execution_time": 0.011661609013875326,
    "peak_memory_usage": 207.578125,
    "exception_handling": {
      "total_tests": 5,
      "successful_handling": 0,
      "results": [
        {
          "test_name": "exception_handling_DocumentProcessingError",
          "exception_type": "DocumentProcessingError",
          "context": "ドキュメント処理テスト",
          "handled_successfully": false,
          "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
        },
        {
          "test_name": "exception_handling_IndexingError",
          "exception_type": "IndexingError",
          "context": "インデックス作成テスト",
          "handled_successfully": false,
          "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
        },
        {
          "test_name": "exception_handling_SearchError",
          "exception_type": "SearchError",
          "context": "検索実行テスト",
          "handled_successfully": false,
          "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
        },
        {
          "test_name": "exception_handling_DatabaseError",
          "exception_type": "DatabaseError",
          "context": "データベース操作テスト",
          "handled_successfully": false,
          "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
        },
        {
          "test_name": "exception_handling_UnexpectedException",
          "exception_type": "RuntimeError",
          "context": "予期しない例外テスト",
          "handled_successfully": false,
          "error_message": "[Errno 13] Permission denied: '/tmp/error_handling_test_nh_x3aj7/docmind_data/error_reports'"
        }
      ]
    },
    "recovery_mechanisms": {
      "total_tests": 1,
      "successful_recovery": 1,
      "results": [
        {
          "test_type": "filesystem_recovery",
          "scenarios": [
            "directory_creation",
            "permission_recovery"
          ],
          "success": true
        }
      ]
    },
    "graceful_degradation": {
      "total_tests": 3,
      "successful_degradation": 3,
      "results": [
        {
          "component": "search_manager",
          "error_type": "SearchError",
          "disabled_capabilities": [
            "semantic_search"
          ],
          "remaining_capabilities": [
            "full_text_search"
          ],
          "degradation_successful": true
        },
        {
          "component": "embedding_manager",
          "error_type": "EmbeddingError",
          "disabled_capabilities": [
            "embedding_generation"
          ],
          "remaining_capabilities": [],
          "degradation_successful": true
        },
        {
          "component": "document_processor",
          "error_type": "DocumentProcessingError",
          "disabled_capabilities": [
            "pdf_processing"
          ],
          "remaining_capabilities": [
            "text_processing"
          ],
          "degradation_successful": true
        }
      ]
    },
    "system_health": {
      "total_components": 6,
      "healthy": 2,
      "degraded": 4,
      "failed": 0,
      "overall_health": "degraded",
      "components": {
        "search_manager": {
          "status": "degraded",
          "error_message": "セマンティック検索モデルの読み込み失敗",
          "fallback_active": false,
          "capabilities": {
            "full_text_search": true,
            "semantic_search": false
          }
        },
        "index_manager": {
          "status": "healthy",
          "error_message": null,
          "fallback_active": false,
          "capabilities": {
            "indexing": true,
            "search": true
          }
        },
        "embedding_manager": {
          "status": "degraded",
          "error_message": "埋め込みモデルのメモリ不足",
          "fallback_active": false,
          "capabilities": {
            "embedding_generation": false
          }
        },
        "document_processor": {
          "status": "degraded",
          "error_message": "PDFライブラリの初期化失敗",
          "fallback_active": false,
          "capabilities": {
            "pdf_processing": false,
            "text_processing": true
          }
        },
        "database": {
          "status": "degraded",
          "error_message": "テスト用部分失敗: document_storage",
          "fallback_active": false,
          "capabilities": {
            "metadata_storage": true,
            "search_history": true
          }
        },
        "file_watcher": {
          "status": "healthy",
          "error_message": null,
          "fallback_active": false,
          "capabilities": {
            "file_monitoring": true
          }
        }
      }
    }
  },
  "errors": [],
  "performance_issues": [],
  "overall_success": false,
  "end_time": "2025-08-23T11:13:05.951318"
}