# Phase5 ãƒ†ã‚¹ãƒˆç’°å¢ƒå†æ§‹ç¯‰è¨ˆç”»æ›¸

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç¾çŠ¶ã®å•é¡Œ
- **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰**: 51,039è¡Œ(å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã®1.88å€)
- **å®Ÿè£…ã‚³ãƒ¼ãƒ‰**: 27,157è¡Œ
- **å•é¡Œ**: ç¥ã‚¯ãƒ©ã‚¹æ™‚ä»£ã«æ§‹ç¯‰ã—ãŸåŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆãŒPhase4ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã§ç„¡åŠ¹åŒ–

### ç›®æ¨™
**ã€Œãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§å“è³ªä¿è¨¼ã€çµ±åˆãƒ†ã‚¹ãƒˆã¯æ¥ç¶šç¢ºèªã®ã¿ã€**ã®ç†æƒ³çš„ãªãƒ†ã‚¹ãƒˆæ§‹é€ ã‚’å®Ÿç¾

## ğŸ¯ Phase5 ç›®æ¨™æŒ‡æ¨™

### ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å‰Šæ¸›ç›®æ¨™
- **ç¾åœ¨**: 51,039è¡Œ â†’ **ç›®æ¨™**: 10,000è¡Œä»¥ä¸‹(80%å‰Šæ¸›)
- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: 8,000è¡Œ(å“è³ªä¿è¨¼ã®ä¸»åŠ›)
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: 2,000è¡Œ(æ¥ç¶šç¢ºèªã®ã¿)

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰æ§‹é€ 
```
     çµ±åˆãƒ†ã‚¹ãƒˆ (2,000è¡Œ)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”Œâ”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”
  â”Œâ”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”
 â”Œâ”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”
â””â”€ ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (8,000è¡Œ) â”€â”˜
```

## ğŸ—ï¸ å®Ÿè£…æˆ¦ç•¥

### Step1: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå……å®Ÿ(6é€±é–“)

#### 1.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ
Phase4ã§åˆ†é›¢ã—ãŸ15å€‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾å¿œï¼š

**GUIãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç³»(5ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)**
```
tests/unit/managers/
â”œâ”€â”€ test_layout_manager.py          # 200è¡Œ - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_progress_manager.py        # 150è¡Œ - é€²æ—ç®¡ç†ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_signal_manager.py          # 180è¡Œ - ã‚·ã‚°ãƒŠãƒ«ç®¡ç†ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_cleanup_manager.py         # 120è¡Œ - ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ
â””â”€â”€ test_window_state_manager.py    # 150è¡Œ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦çŠ¶æ…‹ãƒ†ã‚¹ãƒˆ
```

**ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ç³»(3ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)**
```
tests/unit/controllers/
â”œâ”€â”€ test_index_controller.py        # 300è¡Œ - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åˆ¶å¾¡ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_search_controller.py       # 250è¡Œ - æ¤œç´¢åˆ¶å¾¡ãƒ†ã‚¹ãƒˆ
â””â”€â”€ test_dialog_manager.py          # 200è¡Œ - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ç®¡ç†ãƒ†ã‚¹ãƒˆ
```

**æ¤œç´¢æ©Ÿèƒ½ç³»(4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)**
```
tests/unit/search/
â”œâ”€â”€ test_search_ui_manager.py       # 150è¡Œ - æ¤œç´¢UIç®¡ç†ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_search_api_manager.py      # 200è¡Œ - æ¤œç´¢APIç®¡ç†ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_search_options_manager.py  # 100è¡Œ - æ¤œç´¢ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
â””â”€â”€ test_shortcut_manager.py        # 80è¡Œ  - ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
```

**ãƒ•ã‚©ãƒ«ãƒ€ãƒ„ãƒªãƒ¼ç³»(3ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)**
```
tests/unit/folder_tree/
â”œâ”€â”€ test_folder_tree_widget.py      # 400è¡Œ - ãƒ•ã‚©ãƒ«ãƒ€ãƒ„ãƒªãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ test_event_handler_manager.py   # 150è¡Œ - ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ãƒ†ã‚¹ãƒˆ
â””â”€â”€ test_ui_setup_manager.py        # 120è¡Œ - UIè¨­å®šãƒ†ã‚¹ãƒˆ
```

#### 1.2 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆè¨­è¨ˆåŸå‰‡

**ç‹¬ç«‹æ€§ã®ç¢ºä¿**
```python
# è‰¯ã„ä¾‹ï¼šä¾å­˜é–¢ä¿‚ã‚’ãƒ¢ãƒƒã‚¯åŒ–
def test_search_controller_search():
    mock_index_manager = Mock()
    mock_search_manager = Mock()
    
    controller = SearchController(
        index_manager=mock_index_manager,
        search_manager=mock_search_manager
    )
    
    result = controller.execute_search("test query")
    assert result.success is True
```

**å˜ä¸€è²¬å‹™ã®ãƒ†ã‚¹ãƒˆ**
```python
# å„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆ
class TestLayoutManager:
    def test_create_main_layout(self):
        # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½œæˆã®ã¿ãƒ†ã‚¹ãƒˆ
        
    def test_update_layout_visibility(self):
        # è¡¨ç¤ºåˆ‡æ›¿ã®ã¿ãƒ†ã‚¹ãƒˆ
        
    def test_resize_layout_components(self):
        # ãƒªã‚µã‚¤ã‚ºå‡¦ç†ã®ã¿ãƒ†ã‚¹ãƒˆ
```

### Step2: çµ±åˆãƒ†ã‚¹ãƒˆç°¡ç´ åŒ–(2é€±é–“)

#### 2.1 æ¥ç¶šç¢ºèªãƒ¬ãƒ™ãƒ«ã®çµ±åˆãƒ†ã‚¹ãƒˆ

**ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦çµ±åˆãƒ†ã‚¹ãƒˆ**
```python
# tests/integration/test_main_window_integration.py (500è¡Œ)
class TestMainWindowIntegration:
    def test_component_initialization(self):
        """å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã‚‹ã‹"""
        
    def test_signal_connections(self):
        """ã‚·ã‚°ãƒŠãƒ«æ¥ç¶šãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹"""
        
    def test_cleanup_flow(self):
        """ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‹"""
```

**æ¤œç´¢ãƒ•ãƒ­ãƒ¼çµ±åˆãƒ†ã‚¹ãƒˆ**
```python
# tests/integration/test_search_flow_integration.py (300è¡Œ)
class TestSearchFlowIntegration:
    def test_search_pipeline(self):
        """æ¤œç´¢ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã®æ¥ç¶šç¢ºèª"""
        # SearchInterface â†’ SearchController â†’ IndexManager
        
    def test_result_display_flow(self):
        """æ¤œç´¢çµæœè¡¨ç¤ºãƒ•ãƒ­ãƒ¼ã®æ¥ç¶šç¢ºèª"""
        # SearchController â†’ SearchResults â†’ PreviewWidget
```

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç†çµ±åˆãƒ†ã‚¹ãƒˆ**
```python
# tests/integration/test_index_management_integration.py (400è¡Œ)
class TestIndexManagementIntegration:
    def test_index_creation_flow(self):
        """ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆãƒ•ãƒ­ãƒ¼å…¨ä½“ã®æ¥ç¶šç¢ºèª"""
        
    def test_file_monitoring_integration(self):
        """ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°ã®é€£æºç¢ºèª"""
```

#### 2.2 çµ±åˆãƒ†ã‚¹ãƒˆè¨­è¨ˆåŸå‰‡

**æ¥ç¶šç¢ºèªã«ç‰¹åŒ–**
```python
def test_search_integration():
    # è©³ç´°ãªçµæœæ¤œè¨¼ã¯ã—ãªã„
    # ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã®ã¿ç¢ºèª
    try:
        result = search_flow.execute("test")
        assert not isinstance(result, Exception)
    except Exception as e:
        pytest.fail(f"Integration failed: {e}")
```

**æœ€å°é™ã®ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨**
```python
# å¤§é‡ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯ä½¿ã‚ãªã„
TEST_FILES = [
    "sample1.txt",  # åŸºæœ¬ãƒ†ã‚­ã‚¹ãƒˆ
    "sample2.pdf",  # PDF
    "sample3.docx"  # Word
]
```

### Step3: ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ†ã‚¹ãƒˆæ•´ç†(2é€±é–“)

#### 3.1 å‰Šé™¤å¯¾è±¡ãƒ†ã‚¹ãƒˆ
- **validation_framework/**: 40,000è¡Œ â†’ å‰Šé™¤
- **è¤‡é›‘ãªã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆ**: 8,000è¡Œ â†’ å‰Šé™¤
- **é‡è¤‡ãƒ†ã‚¹ãƒˆ**: 3,000è¡Œ â†’ çµ±åˆ

#### 3.2 ä¿æŒå¯¾è±¡ãƒ†ã‚¹ãƒˆ
- **åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**: å¿…è¦æœ€å°é™ã«ç°¡ç´ åŒ–
- **å›å¸°ãƒ†ã‚¹ãƒˆ**: æ—¢å­˜æ©Ÿèƒ½ä¿è­·ç”¨ã«ç¶­æŒ

## ğŸ“… å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«(10é€±é–“)

### Week 1-2: ç’°å¢ƒæº–å‚™ãƒ»è¨­è¨ˆ
- [ ] ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- [ ] ãƒ¢ãƒƒã‚¯ãƒ»ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã®è¨­è¨ˆ
- [ ] ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ä½œæˆ

### Week 3-6: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè£…
- [ ] Week 3: GUIãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç³»ãƒ†ã‚¹ãƒˆ
- [ ] Week 4: ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ç³»ãƒ†ã‚¹ãƒˆ  
- [ ] Week 5: æ¤œç´¢æ©Ÿèƒ½ç³»ãƒ†ã‚¹ãƒˆ
- [ ] Week 6: ãƒ•ã‚©ãƒ«ãƒ€ãƒ„ãƒªãƒ¼ç³»ãƒ†ã‚¹ãƒˆ

### Week 7-8: çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…
- [ ] Week 7: ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ»æ¤œç´¢ãƒ•ãƒ­ãƒ¼çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] Week 8: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç†çµ±åˆãƒ†ã‚¹ãƒˆ

### Week 9-10: ãƒ¬ã‚¬ã‚·ãƒ¼æ•´ç†ãƒ»æœ€é©åŒ–
- [ ] Week 9: ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ†ã‚¹ãƒˆå‰Šé™¤ãƒ»çµ±åˆ
- [ ] Week 10: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

## ğŸ› ï¸ æŠ€è¡“ä»•æ§˜

### ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **pytest**: ãƒ¡ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **pytest-qt**: GUI ãƒ†ã‚¹ãƒˆç”¨
- **pytest-mock**: ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½
- **pytest-cov**: ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š

### ãƒ¢ãƒƒã‚¯æˆ¦ç•¥
```python
# ä¾å­˜é–¢ä¿‚ã®æ¨™æº–ãƒ¢ãƒƒã‚¯
@pytest.fixture
def mock_index_manager():
    return Mock(spec=IndexManager)

@pytest.fixture  
def mock_search_manager():
    return Mock(spec=SearchManager)
```

### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†
```python
# æœ€å°é™ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
@pytest.fixture
def minimal_test_data():
    return {
        "documents": ["test1.txt", "test2.pdf"],
        "queries": ["basic query", "advanced query"],
        "expected_results": [...]
    }
```

## ğŸ“Š å“è³ªæŒ‡æ¨™

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: 85%ä»¥ä¸Š
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: æ¥ç¶šéƒ¨åˆ†100%
- **å…¨ä½“**: 80%ä»¥ä¸Š

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™
- **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“**: 5åˆ†ä»¥å†…(ç¾åœ¨30åˆ†ä»¥ä¸Š)
- **ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚é–“**: 30ç§’ä»¥å†…
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 1GBä»¥å†…

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

### å®šé‡çš„æŒ‡æ¨™
- [ ] ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰è¡Œæ•°: 51,039è¡Œ â†’ 10,000è¡Œä»¥ä¸‹
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“: 30åˆ† â†’ 5åˆ†ä»¥å†…
- [ ] ãƒ†ã‚¹ãƒˆæˆåŠŸç‡: 95%ä»¥ä¸Šç¶­æŒ

### å®šæ€§çš„æŒ‡æ¨™
- [ ] æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®ãƒ†ã‚¹ãƒˆä½œæˆãŒå®¹æ˜“
- [ ] ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã®ãƒ†ã‚¹ãƒˆä¿®æ­£ãŒæœ€å°é™
- [ ] ãƒ†ã‚¹ãƒˆã®æ„å›³ãŒæ˜ç¢ºã§ç†è§£ã—ã‚„ã™ã„

## ğŸš¨ ãƒªã‚¹ã‚¯ç®¡ç†

### ä¸»è¦ãƒªã‚¹ã‚¯
1. **æ—¢å­˜æ©Ÿèƒ½ã®å›å¸°**: ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ†ã‚¹ãƒˆå‰Šé™¤ã«ã‚ˆã‚‹è¦‹è½ã¨ã—
2. **ãƒ†ã‚¹ãƒˆè¨­è¨ˆã®è¤‡é›‘åŒ–**: ç†æƒ³ã‚’è¿½æ±‚ã—ã™ãã‚‹å±é™ºæ€§
3. **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é…å»¶**: 10é€±é–“ã¯æ¥½è¦³çš„è¦‹ç©ã‚‚ã‚Š

### å¯¾ç­–
1. **æ®µéšçš„å‰Šé™¤**: ä¸€åº¦ã«å¤§é‡å‰Šé™¤ã›ãšã€æ®µéšçš„ã«å®Ÿæ–½
2. **ã‚·ãƒ³ãƒ—ãƒ«è¨­è¨ˆ**: ã€Œå‹•ä½œç¢ºèªãƒ¬ãƒ™ãƒ«ã€ã‚’å¾¹åº•
3. **ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç®¡ç†**: 2é€±é–“ã”ã¨ã®é€²æ—ç¢ºèª

## ğŸ“š å‚è€ƒè³‡æ–™

### ãƒ†ã‚¹ãƒˆè¨­è¨ˆåŸå‰‡
- **ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰**: Martin Fowler
- **å˜ä½“ãƒ†ã‚¹ãƒˆ**: Roy Osherove
- **å®Ÿç”¨çš„ãƒ†ã‚¹ãƒˆ**: Kent Beck

### å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- **pytestå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
- **pytest-qtä½¿ç”¨æ–¹æ³•**
- **Mockãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ´»ç”¨æ³•**

---

**Phase5å®Œäº†æ™‚ã®ç†æƒ³çŠ¶æ…‹**ï¼š
ã€Œå„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆã•ã‚Œã€çµ±åˆãƒ†ã‚¹ãƒˆã¯æ¥ç¶šç¢ºèªã®ã¿ã€‚æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã‚‚ãƒ†ã‚¹ãƒˆä½œæˆãŒå®¹æ˜“ã§ã€ä¿å®ˆã‚³ã‚¹ãƒˆãŒå¤§å¹…ã«å‰Šæ¸›ã•ã‚ŒãŸçŠ¶æ…‹ã€