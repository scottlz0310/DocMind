
# AI開発標準ルールまとめ（rules.md）

## 1. 日本語での応答・ドキュメント・コメント
- AIは日本語で応答すること。
- ドキュメントやコメントも日本語で記述する。
- 英語への自動切り替えは禁止。

## 2. 責務分離の徹底
- 各モジュール・関数は単一の責務を持つこと。
- 守られないことが多いため、レビュー時に重点確認。

## 3. ドキュメントの整合性
- README, CHANGELOG, LICENSE, rules.md などの必須ドキュメントは常に最新状態に保つ。
- バージョン番号の整合性チェックをリリースワークフローに組み込む。

## 4. Linter関係
- PEP8に準拠したスタイルを維持する。
- `.flake8` や `pyproject.toml` にルールを明記。
- 自動整形ツール（例：black, isort, ruff）を活用。

## 5. Test関係
- テストはpytestを使う。
- テストコードは `tests/` ディレクトリに整理。
- テストコードは `test_` で始まる。
- カバレッジをCIで確認し、最低基準を設ける。
- リリース前に全テストが通過していることを確認。
- precommit hookを使うことで、リリース前に自動整形を行う。

## 6. ルートフォルダの整理整頓
- 以下のファイルのみルートフォルダに配置する：
  - エントリポイント：`main.py`, `test_entry.py`, `Makefile` など
  - 設定ファイル：`.gitignore`, `.flake8`, `pyproject.toml` など
  - 必須ドキュメント：`README.md`, `CHANGELOG.md`, `LICENSE`, `rules.md`
- その他のファイルは目的に応じて以下に整理：
  - `src/`：実装コード
  - `tests/`：テストコード
  - `docs/`：詳細ドキュメント
  - `playground/`：使用例コード
  - `scripts/`, `tools/`：補助スクリプト
  - `assets/`, `output/`, `.cache/`：素材・生成物

## 7. 古いルールの不使用
- `requirements.txt` や `setup.py` などの旧式構成は使用しない。
- 代わりに `pyproject.toml` を使用して依存管理・設定を統合する。

## 8. 仮想環境の使用
- コマンド実行時は毎回仮想環境のアクティベートを行うこと。
- グローバル環境での実行は禁止。
- 特にグローバル環境に依存関係のインストールを行うことは絶対禁止。

## 9. Debug規約
- print関数によるデバッグ出力は禁止。必ずloggingモジュールまたはプロジェクト専用のLoggerを用いること。
- ログレベルは意図に応じてDEBUG, INFO, WARNING, ERRORを使い分けること。
- ruffによるT20xのチェックは必ず行うこと。

## 10. 一時コードの管理
- デバッグ用の一時関数・変数には _debug_ プレフィックスを付与すること。
- 一時コードはPR作成前に必ず削除またはコメント化してレビュー時に明示すること。

## 11. 共通スタイル
- ファイル命名はスネークケース。クラスはパスカルケース、変数はキャメルケース。
- any型や動的型推論の乱用は禁止。可能な限り明示型を使用する。mypyを活用して型ヒントを付与する。