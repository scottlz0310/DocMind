# main_window.py Phase3 åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

## ğŸ“Š ç¾åœ¨ã®çŠ¶æ³

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `src/gui/main_window.py`
- **ç¾åœ¨ã®è¡Œæ•°**: 1,975è¡Œ
- **ç¾åœ¨ã®ãƒ¡ã‚½ãƒƒãƒ‰æ•°**: 73ãƒ¡ã‚½ãƒƒãƒ‰
- **Phase3ç›®æ¨™**: 800è¡Œä»¥ä¸‹ (60%å‰Šæ¸›)ã€30ãƒ¡ã‚½ãƒƒãƒ‰ä»¥ä¸‹

## ğŸ” åˆ†é›¢å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰åˆ†æ

### 1. ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ç³»(menu_manager.py)
**æ—¢ã«å®Ÿè£…æ¸ˆã¿** âœ…
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ä½œæˆãƒ»è¨­å®š
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
- ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè¨­å®š

### 2. ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ç®¡ç†ç³»(toolbar_manager.py)
**æ—¢ã«å®Ÿè£…æ¸ˆã¿** âœ…
- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ä½œæˆãƒ»è¨­å®š
- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
- ã‚¢ã‚¤ã‚³ãƒ³ç®¡ç†

### 3. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ç³»(status_manager.py)
**æ—¢ã«å®Ÿè£…æ¸ˆã¿** âœ…
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ç®¡ç†
- çŠ¶æ…‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±è¡¨ç¤º

### 4. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦çŠ¶æ…‹ç®¡ç†ç³»(window_state_manager.py)
**æ—¢ã«å®Ÿè£…æ¸ˆã¿** âœ…
- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºãƒ»ä½ç½®ç®¡ç†
- è¨­å®šä¿å­˜ãƒ»å¾©å…ƒ
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçŠ¶æ…‹ç®¡ç†

### 5. æ–°è¦åˆ†é›¢å¯¾è±¡(Phase3ã§å®Ÿè£…)

#### A. è¨­å®šãƒ»ãƒ†ãƒ¼ãƒç®¡ç†ç³» â†’ `settings_theme_manager.py`
**åˆ†é›¢å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰**:
- `_on_settings_changed()` (line 245)
- `_apply_theme()` (line 275)
- `_apply_font_settings()` (line 285)

#### B. ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»å†æ§‹ç¯‰ç®¡ç†ç³» â†’ `error_rebuild_manager.py`
**åˆ†é›¢å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰**:
- `_on_rebuild_completed()` (line 1050)
- `_handle_rebuild_timeout()` (line 1080)
- `_force_stop_rebuild()` (line 1110)
- `_reset_rebuild_state()` (line 1150)
- `_update_system_info_after_rebuild()` (line 1180)
- `_update_folder_tree_after_rebuild()` (line 1220)
- `_on_rebuild_error()` (line 1250)
- `_analyze_error_type()` (line 1290)
- `_handle_file_access_error()` (line 1320)
- `_handle_permission_error()` (line 1350)
- `_handle_resource_error()` (line 1380)
- `_handle_disk_space_error()` (line 1410)
- `_handle_corruption_error()` (line 1440)
- `_handle_system_error()` (line 1470)
- `_perform_error_cleanup()` (line 1500)

#### C. é€²æ—ãƒ»ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ç®¡ç†ç³» â†’ `progress_system_manager.py`
**åˆ†é›¢å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰**:
- `_format_completion_message()` (line 400)
- `_format_detailed_completion_message()` (line 450)
- `_update_system_info_with_progress()` (line 500)
- `_format_progress_message()` (line 550)
- `_on_manager_status_changed()` (line 650)
- `_on_rebuild_progress()` (line 700)
- `_determine_rebuild_stage()` (line 800)
- `_format_rebuild_progress_message()` (line 850)
- `_update_rebuild_system_info()` (line 900)

#### D. ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚·ã‚°ãƒŠãƒ«å‡¦ç†ç³» â†’ `event_signal_manager.py`
**åˆ†é›¢å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰**:
- `_on_folder_excluded()` (line 950)
- `_on_folder_refresh()` (line 970)
- `_on_search_result_selected()` (line 1530)
- `_on_preview_requested()` (line 1550)
- `_on_page_changed()` (line 1570)
- `_on_sort_changed()` (line 1580)
- `_on_filter_changed()` (line 1590)
- `_on_preview_zoom_changed()` (line 1600)
- `_on_preview_format_changed()` (line 1610)

## ğŸ“ˆ äºˆæƒ³å‰Šæ¸›åŠ¹æœ

### åˆ†é›¢äºˆå®šãƒ¡ã‚½ãƒƒãƒ‰æ•°
- **è¨­å®šãƒ»ãƒ†ãƒ¼ãƒç®¡ç†**: 3ãƒ¡ã‚½ãƒƒãƒ‰
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»å†æ§‹ç¯‰ç®¡ç†**: 15ãƒ¡ã‚½ãƒƒãƒ‰
- **é€²æ—ãƒ»ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ç®¡ç†**: 9ãƒ¡ã‚½ãƒƒãƒ‰
- **ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚·ã‚°ãƒŠãƒ«å‡¦ç†**: 9ãƒ¡ã‚½ãƒƒãƒ‰
- **åˆè¨ˆ**: 36ãƒ¡ã‚½ãƒƒãƒ‰

### äºˆæƒ³å‰Šæ¸›è¡Œæ•°
- **è¨­å®šãƒ»ãƒ†ãƒ¼ãƒç®¡ç†**: ç´„100è¡Œ
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»å†æ§‹ç¯‰ç®¡ç†**: ç´„600è¡Œ
- **é€²æ—ãƒ»ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ç®¡ç†**: ç´„400è¡Œ
- **ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚·ã‚°ãƒŠãƒ«å‡¦ç†**: ç´„200è¡Œ
- **åˆè¨ˆ**: ç´„1,300è¡Œ

### Phase3å®Œäº†å¾Œã®äºˆæƒ³
- **è¡Œæ•°**: 1,975è¡Œ â†’ 675è¡Œ (65.8%å‰Šæ¸›) âœ…
- **ãƒ¡ã‚½ãƒƒãƒ‰æ•°**: 73ãƒ¡ã‚½ãƒƒãƒ‰ â†’ 37ãƒ¡ã‚½ãƒƒãƒ‰ (49.3%å‰Šæ¸›) âœ…

## ğŸ¯ å®Ÿè£…æˆ¦ç•¥

### Week 1: è¨­å®šãƒ»ã‚¨ãƒ©ãƒ¼å‡¦ç†ç®¡ç†åˆ†é›¢
1. **Day 1-2**: `settings_theme_manager.py` ä½œæˆãƒ»å®Ÿè£…
2. **Day 3-4**: `error_rebuild_manager.py` ä½œæˆãƒ»å®Ÿè£…
3. **Day 5**: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»å“è³ªç¢ºèª

### Week 2: é€²æ—ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ç®¡ç†åˆ†é›¢
1. **Day 1-2**: `progress_system_manager.py` ä½œæˆãƒ»å®Ÿè£…
2. **Day 3-4**: `event_signal_manager.py` ä½œæˆãƒ»å®Ÿè£…
3. **Day 5**: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»å“è³ªç¢ºèª

### Week 3: æœ€çµ‚çµ±åˆãƒ»å“è³ªä¿è¨¼
1. **Day 1-2**: å…¨ä½“çµ±åˆãƒ†ã‚¹ãƒˆ
2. **Day 3-4**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ãƒ¡ãƒ¢ãƒªãƒ†ã‚¹ãƒˆ
3. **Day 5**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ãƒ»æˆæœå ±å‘Š

## ğŸš¨ æ³¨æ„äº‹é …

### é«˜ãƒªã‚¹ã‚¯è¦ç´ 
1. **è¤‡é›‘ãªã‚¨ãƒ©ãƒ¼å‡¦ç†**: å¤šæ•°ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ¡ã‚½ãƒƒãƒ‰ã®ç›¸äº’ä¾å­˜
2. **é€²æ—ç®¡ç†**: UIæ›´æ–°ã¨ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã®åŒæœŸ
3. **ã‚·ã‚°ãƒŠãƒ«æ¥ç¶š**: ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã®é€£æºç¶­æŒ

### å¯¾ç­–
- **æ®µéšçš„åˆ†é›¢**: 1ã¤ãšã¤æ…é‡ã«åˆ†é›¢
- **å³åº§ã®æ¤œè¨¼**: å„æ®µéšã§å‹•ä½œç¢ºèª
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æº–å‚™**: å•é¡Œç™ºç”Ÿæ™‚ã®å³åº§å¾©æ—§

---
**ä½œæˆæ—¥**: 2025-08-28
**Phase**: Phase3 (main_window.pyè¿½åŠ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°)
**ç›®æ¨™**: 800è¡Œä»¥ä¸‹ã€30ãƒ¡ã‚½ãƒƒãƒ‰ä»¥ä¸‹
**é‡è¦åº¦**: ğŸ”´ æœ€é«˜